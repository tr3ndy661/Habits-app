<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Track and visualize your daily moods with MoodBoard Journal. A personal mood tracking application to help you understand your emotional patterns." />
  <title>MoodBoard Journal</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="firebase.js"></script>
  <script type="module" src="auth.js"></script>
</head>
<body>
    <div id="authModal" class="modal">
        <div class="modal-content auth-modal">
            <div id="loginContainer">
                <h2>Login</h2>
                <form id="loginForm">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <button type="submit">Login</button>
                </form>
                <button id="googleSignIn" class="google-btn">
                    <img src="https://www.google.com/favicon.ico" alt="Google">
                    Sign in with Google
                </button>
                <p>Don't have an account? <a href="#" id="switchToSignup">Sign up</a></p>
            </div>
            
            <div id="signupContainer" style="display: none;">
                <h2>Sign Up</h2>
                <form id="signupForm">
                    <input type="email" id="signupEmail" placeholder="Email" required>
                    <input type="password" id="signupPassword" placeholder="Password" required>
                    <button type="submit">Sign Up</button>
                </form>
                <p>Already have an account? <a href="#" id="switchToLogin">Login</a></p>
            </div>
        </div>
    </div>

    <div id="mainContent" style="display: none;">
        <header>
            <h1>üß† MoodBoard Journal</h1>
            <div class="user-controls">
                <div class="welcome-message">Welcome back, <span id="welcomeUser"></span>!</div>
                <div class="user-profile" id="userProfile">
                    <div class="profile-picture" id="profilePicture">
                        <img src="https://api.dicebear.com/6.x/initials/svg?seed=??" id="userAvatar" alt="Profile Picture">
                    </div>
                    <div class="profile-menu" id="profileMenu">
                        <div class="menu-header">
                            <div class="profile-picture-large">
                                <img src="https://api.dicebear.com/6.x/initials/svg?seed=??" id="userAvatarLarge" alt="Profile Picture">
                                <label for="photoInput" class="change-photo-btn oauth-hide">
                                    <span>üì∑</span>
                                    <input type="file" id="photoInput" accept="image/*" style="display: none;">
                                </label>
                            </div>
                            <div class="profile-info">
                                <span id="userDisplayName" class="oauth-readonly">Username</span>
                                <span id="userEmail" class="user-email"></span>
                            </div>
                        </div>
                        <div class="menu-options">
                            <button class="menu-option" id="signOutBtn">
                                <span>üö™</span> Sign Out
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main>
    <div class="tab-container">
        <button class="tab-btn active" data-view="calendar">üìÖ Calendar</button>
        <button class="tab-btn" data-view="history">üìã History</button>
    </div>

    <div class="view-container">
        <div id="calendarView" class="view active">
            <!-- Existing calendar content -->
            <div class="calendar-header">
                <button id="prevMonth">&lt;</button>
                <h2 id="monthDisplay"></h2>
                <button id="nextMonth">&gt;</button>
            </div>
            <div class="calendar-weekdays">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            <div class="calendar-grid">
                <!-- Calendar will be generated here -->
            </div>
        </div>

        <div id="historyView" class="view">
            <div class="contribution-graph">
                <h3>Your Mood Contributions</h3>
                <div class="graph-info">
                    <div class="contribution-legend">
                        Less
                        <ul class="legend-squares">
                            <li class="contribution-cell intensity-0"></li>
                            <li class="contribution-cell intensity-1"></li>
                            <li class="contribution-cell intensity-2"></li>
                            <li class="contribution-cell intensity-3"></li>
                            <li class="contribution-cell intensity-4"></li>
                        </ul>
                        More
                    </div>
                </div>
                <div class="contribution-grid" id="contributionGrid">
                    <!-- Grid will be generated here -->
                </div>
            </div>
            <div class="history-filters">
                <select id="moodFilter">
                    <option value="">All Moods</option>
                    <option value="üòä">üòä Happy</option>
                    <option value="üòê">üòê Neutral</option>
                    <option value="üòî">üòî Sad</option>
                    <option value="üò°">üò° Angry</option>
                    <option value="üò¥">üò¥ Tired</option>
                </select>
                <input type="text" id="searchNotes" placeholder="Search notes...">
            </div>
            <div class="entries-list">
                <!-- Entries will be listed here -->
            </div>
        </div>
    </div>

    <!-- Add this modal structure -->
    <div id="moodModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>How are you feeling?</h2>
            <div class="mood-options">
                <button class="mood-btn" data-mood="üòä">üòä</button>
                <button class="mood-btn" data-mood="üòê">üòê</button>
                <button class="mood-btn" data-mood="üòî">üòî</button>
                <button class="mood-btn" data-mood="üò°">üò°</button>
                <button class="mood-btn" data-mood="üò¥">üò¥</button>
            </div>
            <textarea id="moodNote" placeholder="Add a note about your day..."></textarea>
            <button id="saveMood">Save</button>
        </div>
    </div>
            <!-- Edit Modal -->
        <div id="editModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-edit">&times;</span>
            <h3>Edit Mood Note</h3>
            <textarea id="editNoteInput" rows="5" style="width: 100%;"></textarea>
            <div class="modal-buttons">
            <button id="saveEditBtn">Save</button>
            <button id="cancelEditBtn">Cancel</button>
            </div>
        </div>
        </div>

        <!-- Delete Modal -->
        <div id="deleteModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-delete">&times;</span>
            <h3>Delete this mood entry?</h3>
            <p>This action cannot be undone.</p>
            <div class="modal-buttons">
            <button id="confirmDeleteBtn">Yes, Delete</button>
            <button id="cancelDeleteBtn">Cancel</button>
            </div>
        </div>
        </div>

</main>


  <script type="module" src="script.js"></script>
</body>
</html>
